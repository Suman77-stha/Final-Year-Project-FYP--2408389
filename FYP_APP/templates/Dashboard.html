{% extends "base.html" %}
{% block title %} Dashboard {% endblock title%}
{% block content %}

<div class="dashboard-container">

  <!-- Sidebar -->
  <aside id="sidebar">
    <button class="sidebar-toggle">â¬…ï¸</button>
    <h1 id="logoText">TradeAI</h1>
    <nav>
      <a href="#">ğŸ“Š <span class="menu-text">Dashboard</span></a>
      <a href="#">ğŸ¤– <span class="menu-text">AI Predictions</span></a>
      <a href="#">ğŸ’¼ <span class="menu-text">Portfolio</span></a>
      <a href="#">ğŸ“ˆ <span class="menu-text">Analytics</span></a>
      <a href="#">ğŸ“° <span class="menu-text">News</span></a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main>

    <!-- Header -->
    <header>
      <h2>Dashboard</h2>
      <div class="notification_profile">
        <button>ğŸ””</button>
        <div class="profile">ğŸ‘¤</div>
      </div>
    </header>

    <!-- Search bar with dropdown -->
    <form method="get" style="margin-bottom:1rem;">
      <input type="text" name="symbol" placeholder="Search symbol..." list="recentList">
      <datalist id="recentList">
        {% for s in recent_symbols %}
          <option value="{{ s }}">
        {% endfor %}
      </datalist>
      <button type="submit">Search</button>
    </form>

    <!-- Market Overview Cards -->
    <section class="grid grid-cols-3">
      {% for key, stock in data.items %}
      <a href="?symbol={{ key }}">
        <div class="card">
          <h3>{{ key }}</h3>
          <p style="font-size:1.25rem; font-weight:bold;">
            {% if stock %} ${{ stock.close_price }} {% else %} NA {% endif %}
          </p>
          <p style="color:#22c55e;">
            {% if stock %} ${{ stock.change }} {% else %} NA {% endif %}
          </p>
        </div>
      </a>
      {% endfor %}
    </section>

    <!-- AI Predictions Chart -->
    <section class="card">
      <h3>AI Price Prediction</h3>
      <img src="https://via.placeholder.com/800x300?text=Line+Chart+Placeholder" alt="AI Chart">
    </section>

    <!-- Portfolio Snapshot -->
    <section class="card">
      <h3>Portfolio</h3>
      <table>
        <thead>
          <tr>
            <th>Asset</th>
            <th>Amount</th>
            <th>Current Value</th>
            <th>AI Suggestion</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>BTC</td>
            <td>1.2</td>
            <td>$41,040</td>
            <td class="text-green">Buy</td>
          </tr>
          <tr>
            <td>ETH</td>
            <td>5</td>
            <td>$12,250</td>
            <td class="text-red">Hold</td>
          </tr>
        </tbody>
      </table>
    </section>

  </main>
</div>

{% endblock content %}
